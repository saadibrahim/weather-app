(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{161:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),o=n.n(c),i=n(42),l=n(16),u=n(67),s=n(68),m=n(26),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{fetching:!1,data:{},error:null,units:"metric",page:1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORECAST_FETCH_START":return Object(m.a)(e,(function(e){e.fetching=!0}));case"FORECAST_FETCH_SUCCESS":return Object(m.a)(e,(function(e){e.fetching=!1,e.data=t.data}));case"FORECAST_FETCH_FAILURE":return Object(m.a)(e,(function(e){e.fetching=!1,e.error=t.error}));case"FORECAST_TOGGLE_DISPLAY_UNITS":return Object(m.a)(e,(function(t){t.units="metric"===e.units?"imperial":"metric"}));case"FORECAST_CHANGE_PAGE":return Object(m.a)(e,(function(e){e.page=t.page}));default:return e}},d=Object(l.combineReducers)({forecast:f}),p=[s.a],g=Object(u.composeWithDevTools)(l.applyMiddleware.apply(void 0,p)),E=Object(l.createStore)(d,g),h=n(69),v=n(70),C=n(78),y=n(77),b=n(71),O=!1,S=Object(b.create)({baseURL:"http://api.openweathermap.org/data/2.5/"});S.addRequestTransform((function(e){e.params.APPID="2c05a105987c4b7e90e7ee6ee58222f3"})),S.addMonitor((function(e){O&&console.log({url:e.config.url,detail:e})}));var T=S,F=function(){return function(e){e({type:"FORECAST_FETCH_START"}),T.get("forecast",{q:"Munich,de",units:"metric"}).then((function(t){var n=t.data,a=t.ok,r=t.status;if(a)e({type:"FORECAST_FETCH_SUCCESS",data:n});else{var c=n.message||r;e({type:"FORECAST_FETCH_FAILURE",error:c})}}))}},_=function(){return function(e){e({type:"FORECAST_TOGGLE_DISPLAY_UNITS"})}},j=function(e){return function(t){t({type:"FORECAST_CHANGE_PAGE",page:e})}},A=n(72),R=function(e,t){var n=[];return e.forEach((function(e){var a,r=e.dt_txt.split(" "),c=r[0];n[c]||(n[c]={date:c,list:[]}),n[c].list.push({time:r[1],temp:"imperial"===t?(a=e.main.temp,9*a/5+32):e.main.temp})})),function(e){var t=Object.values(e);return t.forEach((function(e){e.avgTemp=e.list.reduce((function(e,t){return e+t.temp}),0)/e.list.length})),t}(n)},P=function(e,t){var n=t-1;return e.slice(3*n,3*n+3)},k=function(e){return e.forecast},w=function(e){return k(e).data},U=function(e){return w(e).list||[]},x=Object(A.a)([U,function(e){return w(e).city||{}},function(e){return k(e).units},function(e){return k(e).page}],(function(e,t,n,a){var r,c=R(e,n);return{totalPages:(r=c,Math.ceil(r.length/3)),results:P(c,a),city:t}})),D=function(e){var t=k(e);return{fetching:t.fetching,data:x(e),error:t.error,units:t.units,page:t.page}},H=n(31),I=n(191),G=n(192),L=n(187),M=n(163),B=n(27);var N=function(e){var t=e.data;return r.a.createElement(G.a,{mb:"1.5em"},r.a.createElement(M.a,null,r.a.createElement(B.c,{data:t},r.a.createElement(B.a,null),r.a.createElement(B.e,null),r.a.createElement(B.b,{valueField:"temp",argumentField:"time",color:"#3f51b5"}),r.a.createElement(B.d,{text:"24h temperature"}))))},W=n(162);var q=function(e){var t=e.message;return r.a.createElement(W.a,{color:"textSecondary",gutterBottom:!0},t)},J=n(184);function Y(){return r.a.createElement(G.a,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},r.a.createElement(J.a,null))}var $=n(164);var z=function(e){var t=e.page,n=e.totalPages,a=e.onChangePage,c=e.onCardSelection;return r.a.createElement(G.a,{my:"1.5em",justifyContent:"space-between",display:"flex"},r.a.createElement($.a,{variant:"outlined",color:"primary",onClick:function(){c(null),a(t-1)},disabled:1===t},"<"),r.a.createElement($.a,{variant:"outlined",color:"primary",onClick:function(){c(null),a(t+1)},disabled:t===n},">"))};var K=function(e){var t=e.text;return r.a.createElement(W.a,{variant:"h4",component:"h1",gutterBottom:!0},t)},Q=n(185);var V=function(e){var t=e.toggleDisplayUnits,n=e.units;return r.a.createElement(G.a,{mb:"1em"},r.a.createElement(Q.a,{disableElevation:!0,variant:"contained",color:"primary"},r.a.createElement($.a,{onClick:t,disabled:"metric"===n},"\xb0C"),r.a.createElement($.a,{onClick:t,disabled:"imperial"===n},"\xb0F")))},X=n(188),Z=n(189),ee=n(190),te=n(186),ne=Object(te.a)({card:{cursor:"pointer"}});var ae=function(e){var t=e.item,n=e.selectedCard,a=e.units,c=e.onCardSelection,o=ne();return r.a.createElement(L.a,{key:t.date,item:!0,xs:6,sm:4},r.a.createElement(X.a,{className:o.card,underline:"none",onClick:function(){return c(t.date)}},r.a.createElement(Z.a,{raised:!(!n||t.date!==n)},r.a.createElement(ee.a,null,r.a.createElement(W.a,{color:"textSecondary",gutterBottom:!0},t.date),r.a.createElement(W.a,{variant:"h5",component:"h2",color:"primary"},t.avgTemp.toFixed(1)," \xb0","metric"===a?"C":"F")))))};function re(e){var t=e.forecast,n=e.toggleDisplayUnits,c=e.onChangePage,o=t.fetching,i=t.data,l=t.error,u=t.units,s=t.page,m=Object(a.useState)(null),f=Object(H.a)(m,2),d=f[0],p=f[1];return o?r.a.createElement(Y,null):r.a.createElement(I.a,{maxWidth:"sm"},l?r.a.createElement(q,{message:l}):r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{text:"Weather forecast for ".concat(i.city.name,", ").concat(i.city.country)}),r.a.createElement(V,{toggleDisplayUnits:n,units:u}),r.a.createElement(z,{page:s,totalPages:i.totalPages,onChangePage:c,onCardSelection:p}),r.a.createElement(G.a,{mb:"1.5em"},r.a.createElement(L.a,{container:!0,spacing:2},i.results.map((function(e){return r.a.createElement(ae,{key:e.date,item:e,selectedCard:d,units:u,onCardSelection:p})})))),d&&r.a.createElement(N,{data:i.results.find((function(e){return e.date===d})).list})))}var ce=function(e){Object(C.a)(n,e);var t=Object(y.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.getForecast)()}},{key:"render",value:function(){var e=this.props,t=e.forecast,n=e.toggleDisplayUnits,a=e.onChangePage;return r.a.createElement(re,{forecast:t,toggleDisplayUnits:n,onChangePage:a})}}]),n}(a.Component),oe=Object(i.b)((function(e){return{forecast:D(e)}}),(function(e){return{getForecast:function(){return e(F())},toggleDisplayUnits:function(){return e(_())},onChangePage:function(t){return e(j(t))}}}))(ce);var ie=function(){return r.a.createElement(i.a,{store:E},r.a.createElement(oe,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},88:function(e,t,n){e.exports=n(161)}},[[88,1,2]]]);
//# sourceMappingURL=main.937bfb8d.chunk.js.map